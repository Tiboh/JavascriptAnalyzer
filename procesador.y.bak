%{
	#include <stdio.h>
	void yyerror (char const *s) {
	   fprintf (stderr, "%s\n", s);
	}
%}

%token COMENTARIO ID CRLF
%token ABRPAR CERPAR ABRLLAVE CERLLAVE
%token COMA DOBLEPUNTOS
%token ENTERO CADENA INT CHARS BOOL
%token OPRELIGUAL OPLOGNEG OPINCR OPARSUMA OPAS OPASSUMA
%token VAR FUNCTION RETURN WRITE PROMPT IF SWITCH CASE BREAK

%right OPASSUMA OPAS
%left OPRELIGUAL
%left OPARSUMA
%right OPINCR OPLOGNEG

%% 

p:
	/* empty */
	|b z p
	| z p
	| f z p
	;

com:
	/* empty */
	| COMENTARIO CRLF
	;

z:
	com CRLF
	;

b:
	VAR t ID
	| IF ABRPAR e CERPAR s
	| SWITCH ABRPAR ID CERPAR z ABRLLAVE z g z CERLLAVE
	| s
	;

t:
	INT
	| BOOL
	| CHARS
	;

f:
	FUNCTION h ID ABRPAR a CERPAR z ABRLLAVE z c z CERLLAVE
	;

a:
	/* empty */
	| t ID k
	;

k:
	/* empty */
	| COMA t ID k
	;

s:
	ID s2
	| RETURN e
	| WRITE ABRPAR e CERPAR
	| PROMPT ABRPAR ID CERPAR
	;

s2:
	OPAS e
	| ABRPAR l CERPAR
	| OPASSUMA e
	;

g:
	CASE e DOBLEPUNTOS s z j i
	;

j:
	j1 BREAK
	;

j1:
	/* empty */
	| z
	;

i:
	z i1
	;

i1: 
	/* empty */
	| g
	;

c:
	/* empty */
	| b z c
	;

h:
	/* empty */
	| t
	;

l:
	/* empty */
	| e q
	;

q:
	/* empty */
	| COMA e q
	;

e:
	OPRELIGUAL e1
	;

e1:
	/* empty */
	| u
	;

u:
	OPARSUMA v
	| v
	;

v:
	ID v2
	| ABRPAR e CERPAR
	| ENTERO
	| CADENA
	| OPINCR ID
	| OPLOGNEG e
	;

v2:
	/* empty */
	| OPINCR
	| ABRPAR l CERPAR
	;

%%

int main(void) {
	yyparse();
}